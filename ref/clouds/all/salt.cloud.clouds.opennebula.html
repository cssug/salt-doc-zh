<!DOCTYPE html>







<html>
    <head>
        <meta charset="utf-8">
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>salt.cloud.clouds.opennebula</title>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="google-site-verification" content="1Y-ojT3ndjxA9coB77iUDyXPWxeuQ3T4_r0j-QG6QHg" />

        
        <link rel="stylesheet" href="../../../_static/css/core.min.css">
        <link rel="stylesheet" href="../../../_static/css/webhelp.min_v1.4.4.css">
            <link rel="shortcut icon" href="../../../_static/favicon.ico">

        <!--[if lt IE 9]>
        <script src="../../../_static/js/respond.min.js"></script>
        <![endif]-->
        <link rel="top" title="" href="../../../index.html">
    </head>

    <body class="index">
        <!--[if lt IE 8]>
            <p>You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser.</a></p>
        <![endif]-->
        <div id="wrapper">
            <div id="page-content-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-12 col-md-11 col-md-offset-1 col-lg-10 col-lg-offset-1">
                            <!--start navbar-->
                            <nav class="navbar navbar-default">
                                <div class="navbar-header">
                                    <button type="button" class="pull-left navbar-toggle collapsed" id="menu-toggle"><span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <ul id="header-nav" class="nav navbar-nav">
        <li>
            <a href="../../../contents.html" title="Table of Contents">Table of Contents</a>
            
        </li>
        <li>
            <a href="../../../glossary.html" title="Glossary">Glossary</a>
            
        </li>
        <li>
            <a href="../../../salt-modindex.html" title="Salt Module Index">all salt modules</a>
            
        </li>
        <li>
            <a href="../../../genindex.html" title="总目录">索引</a>
            
        </li> 

                                        

                                        
                                    </ul>
                                </div>
                            </nav>
                            <!--end navbar-->

                            

                            

                            
                            <div class="body-content">
                                
  <div class="section" id="module-salt.cloud.clouds.opennebula">
<span id="salt-cloud-clouds-opennebula"></span><h1>salt.cloud.clouds.opennebula<a class="headerlink" href="#module-salt.cloud.clouds.opennebula" title="永久链接至标题">¶</a></h1>
<div class="section" id="opennebula-cloud-module">
<h2>OpenNebula Cloud Module<a class="headerlink" href="#opennebula-cloud-module" title="永久链接至标题">¶</a></h2>
<p>The OpenNebula cloud module is used to control access to an OpenNebula cloud.</p>
<div class="versionadded">
<p><span class="versionmodified">2014.7.0 新版功能.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">depends:</th><td class="field-body">lxml</td>
</tr>
<tr class="field-even field"><th class="field-name">depends:</th><td class="field-body">OpenNebula installation running version <code class="docutils literal"><span class="pre">4.14</span></code>.</td>
</tr>
</tbody>
</table>
<p>Use of this module requires the <code class="docutils literal"><span class="pre">xml_rpc</span></code>, <code class="docutils literal"><span class="pre">user</span></code>, and <code class="docutils literal"><span class="pre">password</span></code>
parameters to be set.</p>
<p>Set up the cloud configuration at <code class="docutils literal"><span class="pre">/etc/salt/cloud.providers</span></code> or
<code class="docutils literal"><span class="pre">/etc/salt/cloud.providers.d/opennebula.conf</span></code>:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">my-opennebula-config</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">xml_rpc</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://localhost:2633/RPC2</span>
  <span class="l l-Scalar l-Scalar-Plain">user</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">oneadmin</span>
  <span class="l l-Scalar l-Scalar-Plain">password</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">JHGhgsayu32jsa</span>
  <span class="l l-Scalar l-Scalar-Plain">driver</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">opennebula</span>
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f image_allocate opennebula <span class="nv">datastore_name</span><span class="o">=</span>default <span class="se">\</span>
    <span class="nv">data</span><span class="o">=</span><span class="s1">&#39;NAME=&quot;My New Image&quot; DESCRIPTION=&quot;Description of the image.&quot; \</span>
<span class="s1">    PATH=/home/one_user/images/image_name.img&#39;</span>
salt-cloud -f secgroup_allocate opennebula <span class="se">\</span>
    <span class="nv">data</span><span class="o">=</span><span class="s2">&quot;Name = test RULE = [PROTOCOL = TCP, RULE_TYPE = inbound, \</span>
<span class="s2">    RANGE = 1000:2000]&quot;</span>
</pre></div>
</div>
<dl class="function">
<dt id="salt.cloud.clouds.opennebula.avail_images">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">avail_images</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.avail_images" title="永久链接至目标">¶</a></dt>
<dd><p>Return available OpenNebula images.</p>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud --list-images opennebula
salt-cloud --function avail_images opennebula
salt-cloud -f avail_images opennebula
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.avail_locations">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">avail_locations</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.avail_locations" title="永久链接至目标">¶</a></dt>
<dd><p>Return available OpenNebula locations.</p>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud --list-locations opennebula
salt-cloud --function avail_locations opennebula
salt-cloud -f avail_locations opennebula
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.avail_sizes">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">avail_sizes</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.avail_sizes" title="永久链接至目标">¶</a></dt>
<dd><p>Because sizes are built into templates with OpenNebula, there will be no sizes to
return here.</p>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.create">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">create</code><span class="sig-paren">(</span><em>vm_</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.create" title="永久链接至目标">¶</a></dt>
<dd><p>Create a single VM from a data dict.</p>
<dl class="docutils">
<dt>vm_</dt>
<dd>The dictionary use to create a VM.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -p my-opennebula-profile vm_name
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.destroy">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">destroy</code><span class="sig-paren">(</span><em>name</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.destroy" title="永久链接至目标">¶</a></dt>
<dd><p>Destroy a node. Will check termination protection and warn if enabled.</p>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the vm to be destroyed.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud --destroy vm_name
salt-cloud -d vm_name
salt-cloud --action destroy vm_name
salt-cloud -a destroy vm_name
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_cluster_id">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_cluster_id</code><span class="sig-paren">(</span><em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_cluster_id" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a cluster's ID from the given cluster name.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f get_cluster_id opennebula <span class="nv">name</span><span class="o">=</span>my-cluster-name
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_configured_provider">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_configured_provider</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_configured_provider" title="永久链接至目标">¶</a></dt>
<dd><p>Return the first configured instance.</p>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_datastore_id">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_datastore_id</code><span class="sig-paren">(</span><em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_datastore_id" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a data store's ID from the given data store name.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f get_datastore_id opennebula <span class="nv">name</span><span class="o">=</span>my-datastore-name
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_dependencies">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_dependencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_dependencies" title="永久链接至目标">¶</a></dt>
<dd><p>Warn if dependencies aren't met.</p>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_host_id">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_host_id</code><span class="sig-paren">(</span><em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_host_id" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a host's ID from the given host name.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f get_host_id opennebula <span class="nv">name</span><span class="o">=</span>my-host-name
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_image">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_image</code><span class="sig-paren">(</span><em>vm_</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_image" title="永久链接至目标">¶</a></dt>
<dd><p>Return the image object to use.</p>
<dl class="docutils">
<dt>vm_</dt>
<dd>The VM dictionary for which to obtain an image.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_image_id">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_image_id</code><span class="sig-paren">(</span><em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_image_id" title="永久链接至目标">¶</a></dt>
<dd><p>Returns an image's ID from the given image name.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f get_image_id opennebula <span class="nv">name</span><span class="o">=</span>my-image-name
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_location">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_location</code><span class="sig-paren">(</span><em>vm_</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_location" title="永久链接至目标">¶</a></dt>
<dd><p>Return the VM's location.</p>
<dl class="docutils">
<dt>vm_</dt>
<dd>The VM dictionary for which to obtain a location.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_secgroup_id">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_secgroup_id</code><span class="sig-paren">(</span><em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_secgroup_id" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a security group's ID from the given security group name.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f get_secgroup_id opennebula <span class="nv">name</span><span class="o">=</span>my-secgroup-name
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_template">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_template</code><span class="sig-paren">(</span><em>vm_</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_template" title="永久链接至目标">¶</a></dt>
<dd><p>Return the template id for a VM.</p>
<div class="versionadded">
<p><span class="versionmodified">Carbon 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>vm_</dt>
<dd>The VM dictionary for which to obtain a template.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_template_id">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_template_id</code><span class="sig-paren">(</span><em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_template_id" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a template's ID from the given template name.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f get_template_id opennebula <span class="nv">name</span><span class="o">=</span>my-template-name
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_vm_id">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_vm_id</code><span class="sig-paren">(</span><em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_vm_id" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a virtual machine's ID from the given virtual machine's name.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f get_vm_id opennebula <span class="nv">name</span><span class="o">=</span>my-vm
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.get_vn_id">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">get_vn_id</code><span class="sig-paren">(</span><em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.get_vn_id" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a virtual network's ID from the given virtual network's name.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f get_vn_id opennebula <span class="nv">name</span><span class="o">=</span>my-vn-name
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.image_allocate">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">image_allocate</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.image_allocate" title="永久链接至目标">¶</a></dt>
<dd><p>Allocates a new image in OpenNebula.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>path</dt>
<dd>The path to a file containing the template of the image to allocate.
Syntax within the file can be the usual attribute=value or XML. Can be
used instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>The data containing the template of the image to allocate. Syntax can be the
usual attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
<dt>datastore_id</dt>
<dd>The ID of the data-store to be used for the new image. Can be used instead
of <code class="docutils literal"><span class="pre">datastore_name</span></code>.</dd>
<dt>datastore_name</dt>
<dd>The name of the data-store to be used for the new image. Can be used instead of
<code class="docutils literal"><span class="pre">datastore_id</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f image_allocate opennebula <span class="nv">path</span><span class="o">=</span>/path/to/image_file.txt <span class="nv">datastore_id</span><span class="o">=</span>1
salt-cloud -f image_allocate opennebula <span class="nv">datastore_name</span><span class="o">=</span>default <span class="se">\</span>
    <span class="nv">data</span><span class="o">=</span><span class="s1">&#39;NAME=&quot;Ubuntu 14.04&quot; PATH=&quot;/home/one_user/images/ubuntu_desktop.img&quot; \</span>
<span class="s1">    DESCRIPTION=&quot;Ubuntu 14.04 for development.&quot;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.image_clone">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">image_clone</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.image_clone" title="永久链接至目标">¶</a></dt>
<dd><p>Clones an existing image.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the new image.</dd>
<dt>image_id</dt>
<dd>The ID of the image to be cloned. Can be used instead of <code class="docutils literal"><span class="pre">image_name</span></code>.</dd>
<dt>image_name</dt>
<dd>The name of the image to be cloned. Can be used instead of <code class="docutils literal"><span class="pre">image_id</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f image_clone opennebula <span class="nv">name</span><span class="o">=</span>my-new-image <span class="nv">image_id</span><span class="o">=</span>10
salt-cloud -f image_clone opennebula <span class="nv">name</span><span class="o">=</span>my-new-image <span class="nv">image_name</span><span class="o">=</span>my-image-to-clone
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.image_delete">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">image_delete</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.image_delete" title="永久链接至目标">¶</a></dt>
<dd><p>Deletes the given image from OpenNebula. Either a name or an image_id must
be supplied.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the image to delete. Can be used instead of <code class="docutils literal"><span class="pre">image_id</span></code>.</dd>
<dt>image_id</dt>
<dd>The ID of the image to delete. Can be used instead of <code class="docutils literal"><span class="pre">name</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f image_delete opennebula <span class="nv">name</span><span class="o">=</span>my-image
salt-cloud --function image_delete opennebula <span class="nv">image_id</span><span class="o">=</span>100
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.image_info">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">image_info</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.image_info" title="永久链接至目标">¶</a></dt>
<dd><p>Retrieves information for a given image. Either a name or an image_id must be
supplied.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the image for which to gather information. Can be used instead
of <code class="docutils literal"><span class="pre">image_id</span></code>.</dd>
<dt>image_id</dt>
<dd>The ID of the image for which to gather information. Can be used instead of
<code class="docutils literal"><span class="pre">name</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f image_info opennebula <span class="nv">name</span><span class="o">=</span>my-image
salt-cloud --function image_info opennebula <span class="nv">image_id</span><span class="o">=</span>5
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.image_persistent">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">image_persistent</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.image_persistent" title="永久链接至目标">¶</a></dt>
<dd><p>Sets the Image as persistent or not persistent.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the image to set. Can be used instead of <code class="docutils literal"><span class="pre">image_id</span></code>.</dd>
<dt>image_id</dt>
<dd>The ID of the image to set. Can be used instead of <code class="docutils literal"><span class="pre">name</span></code>.</dd>
<dt>persist</dt>
<dd>A boolean value to set the image as persistent or not. Set to true
for persistent, false for non-persistent.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f image_persistent opennebula <span class="nv">name</span><span class="o">=</span>my-image <span class="nv">persist</span><span class="o">=</span>True
salt-cloud --function image_persistent opennebula <span class="nv">image_id</span><span class="o">=</span><span class="m">5</span> <span class="nv">persist</span><span class="o">=</span>False
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.image_snapshot_delete">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">image_snapshot_delete</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.image_snapshot_delete" title="永久链接至目标">¶</a></dt>
<dd><p>Deletes a snapshot from the image.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>image_id</dt>
<dd>The ID of the image from which to delete the snapshot. Can be used instead of
<code class="docutils literal"><span class="pre">image_name</span></code>.</dd>
<dt>image_name</dt>
<dd>The name of the image from which to delete the snapshot. Can be used instead
of <code class="docutils literal"><span class="pre">image_id</span></code>.</dd>
<dt>snapshot_id</dt>
<dd>The ID of the snapshot to delete.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f image_snapshot_delete <span class="nv">vm_id</span><span class="o">=</span><span class="m">106</span> <span class="nv">snapshot_id</span><span class="o">=</span>45
salt-cloud -f image_snapshot_delete <span class="nv">vm_name</span><span class="o">=</span>my-vm <span class="nv">snapshot_id</span><span class="o">=</span>111
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.image_snapshot_flatten">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">image_snapshot_flatten</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.image_snapshot_flatten" title="永久链接至目标">¶</a></dt>
<dd><p>Flattens the snapshot of an image and discards others.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>image_id</dt>
<dd>The ID of the image. Can be used instead of <code class="docutils literal"><span class="pre">image_name</span></code>.</dd>
<dt>image_name</dt>
<dd>The name of the image. Can be used instead of <code class="docutils literal"><span class="pre">image_id</span></code>.</dd>
<dt>snapshot_id</dt>
<dd>The ID of the snapshot to flatten.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f image_snapshot_flatten <span class="nv">vm_id</span><span class="o">=</span><span class="m">106</span> <span class="nv">snapshot_id</span><span class="o">=</span>45
salt-cloud -f image_snapshot_flatten <span class="nv">vm_name</span><span class="o">=</span>my-vm <span class="nv">snapshot_id</span><span class="o">=</span>45
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.image_snapshot_revert">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">image_snapshot_revert</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.image_snapshot_revert" title="永久链接至目标">¶</a></dt>
<dd><p>Reverts an image state to a previous snapshot.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>image_id</dt>
<dd>The ID of the image to revert. Can be used instead of <code class="docutils literal"><span class="pre">image_name</span></code>.</dd>
<dt>image_name</dt>
<dd>The name of the image to revert. Can be used instead of <code class="docutils literal"><span class="pre">image_id</span></code>.</dd>
<dt>snapshot_id</dt>
<dd>The ID of the snapshot to which the image will be reverted.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f image_snapshot_revert <span class="nv">vm_id</span><span class="o">=</span><span class="m">106</span> <span class="nv">snapshot_id</span><span class="o">=</span>45
salt-cloud -f image_snapshot_revert <span class="nv">vm_name</span><span class="o">=</span>my-vm <span class="nv">snapshot_id</span><span class="o">=</span>120
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.image_update">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">image_update</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.image_update" title="永久链接至目标">¶</a></dt>
<dd><p>Replaces the image template contents.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>image_id</dt>
<dd>The ID of the image to update. Can be used instead of <code class="docutils literal"><span class="pre">image_name</span></code>.</dd>
<dt>image_name</dt>
<dd>The name of the image to update. Can be used instead of <code class="docutils literal"><span class="pre">image_id</span></code>.</dd>
<dt>path</dt>
<dd>The path to a file containing the template of the image. Syntax within the
file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the template of the image. Syntax can be the usual attribute=value
or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
<dt>update_type</dt>
<dd>There are two ways to update an image: <code class="docutils literal"><span class="pre">replace</span></code> the whole template
or <code class="docutils literal"><span class="pre">merge</span></code> the new template with the existing one.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f image_update opennebula <span class="nv">image_id</span><span class="o">=</span><span class="m">0</span> <span class="nv">file</span><span class="o">=</span>/path/to/image_update_file.txt <span class="nv">update_type</span><span class="o">=</span>replace
salt-cloud -f image_update opennebula <span class="nv">image_name</span><span class="o">=</span><span class="s2">&quot;Ubuntu 14.04&quot;</span> <span class="nv">update_type</span><span class="o">=</span>merge <span class="se">\</span>
    <span class="nv">data</span><span class="o">=</span><span class="s1">&#39;NAME=&quot;Ubuntu Dev&quot; PATH=&quot;/home/one_user/images/ubuntu_desktop.img&quot; \</span>
<span class="s1">    DESCRIPTION = &quot;Ubuntu 14.04 for development.&quot;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.list_clusters">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">list_clusters</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.list_clusters" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a list of clusters in OpenNebula.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f list_clusters opennebula
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.list_datastores">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">list_datastores</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.list_datastores" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a list of data stores on OpenNebula.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f list_datastores opennebula
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.list_hosts">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">list_hosts</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.list_hosts" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a list of hosts on OpenNebula.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f list_hosts opennebula
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.list_nodes">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">list_nodes</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.list_nodes" title="永久链接至目标">¶</a></dt>
<dd><p>Return a list of VMs on OpenNebula.</p>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -Q
salt-cloud --query
salt-cloud --function list_nodes opennebula
salt-cloud -f list_nodes opennebula
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.list_nodes_full">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">list_nodes_full</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.list_nodes_full" title="永久链接至目标">¶</a></dt>
<dd><p>Return a list of the VMs on OpenNebula.</p>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -F
salt-cloud --full-query
salt-cloud --function list_nodes_full opennebula
salt-cloud -f list_nodes_full opennebula
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.list_nodes_select">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">list_nodes_select</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.list_nodes_select" title="永久链接至目标">¶</a></dt>
<dd><p>Return a list of the VMs that are on the provider, with select fields.</p>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.list_security_groups">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">list_security_groups</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.list_security_groups" title="永久链接至目标">¶</a></dt>
<dd><p>Lists all security groups available to the user and the user's groups.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f list_security_groups opennebula
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.list_templates">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">list_templates</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.list_templates" title="永久链接至目标">¶</a></dt>
<dd><p>Lists all templates available to the user and the user's groups.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f list_templates opennebula
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.list_vns">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">list_vns</code><span class="sig-paren">(</span><em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.list_vns" title="永久链接至目标">¶</a></dt>
<dd><p>Lists all virtual networks available to the user and the user's groups.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f list_vns opennebula
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.reboot">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">reboot</code><span class="sig-paren">(</span><em>name</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.reboot" title="永久链接至目标">¶</a></dt>
<dd><p>Reboot a VM.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM to reboot.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a reboot my-vm
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.secgroup_allocate">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">secgroup_allocate</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.secgroup_allocate" title="永久链接至目标">¶</a></dt>
<dd><p>Allocates a new security group in OpenNebula.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>path</dt>
<dd>The path to a file containing the template of the security group. Syntax
within the file can be the usual attribute=value or XML. Can be used
instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>The template data of the security group. Syntax can be the usual
attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f secgroup_allocate opennebula <span class="nv">path</span><span class="o">=</span>/path/to/secgroup_file.txt
salt-cloud -f secgroup_allocate opennebula <span class="se">\</span>
    <span class="nv">data</span><span class="o">=</span><span class="s2">&quot;NAME = test RULE = [PROTOCOL = TCP, RULE_TYPE = inbound, \</span>
<span class="s2">    RANGE = 1000:2000]&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.secgroup_clone">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">secgroup_clone</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.secgroup_clone" title="永久链接至目标">¶</a></dt>
<dd><p>Clones an existing security group.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the new template.</dd>
<dt>secgroup_id</dt>
<dd>The ID of the security group to be cloned. Can be used instead of
<code class="docutils literal"><span class="pre">secgroup_name</span></code>.</dd>
<dt>secgroup_name</dt>
<dd>The name of the security group to be cloned. Can be used instead of
<code class="docutils literal"><span class="pre">secgroup_id</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f secgroup_clone opennebula <span class="nv">name</span><span class="o">=</span>my-cloned-secgroup <span class="nv">secgroup_id</span><span class="o">=</span>0
salt-cloud -f secgroup_clone opennebula <span class="nv">name</span><span class="o">=</span>my-cloned-secgroup <span class="nv">secgroup_name</span><span class="o">=</span>my-secgroup
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.secgroup_delete">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">secgroup_delete</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.secgroup_delete" title="永久链接至目标">¶</a></dt>
<dd><p>Deletes the given security group from OpenNebula. Either a name or a secgroup_id
must be supplied.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the security group to delete. Can be used instead of
<code class="docutils literal"><span class="pre">secgroup_id</span></code>.</dd>
<dt>secgroup_id</dt>
<dd>The ID of the security group to delete. Can be used instead of <code class="docutils literal"><span class="pre">name</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f secgroup_delete opennebula <span class="nv">name</span><span class="o">=</span>my-secgroup
salt-cloud --function secgroup_delete opennebula <span class="nv">secgroup_id</span><span class="o">=</span>100
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.secgroup_info">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">secgroup_info</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.secgroup_info" title="永久链接至目标">¶</a></dt>
<dd><p>Retrieves information for the given security group. Either a name or a
secgroup_id must be supplied.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the security group for which to gather information. Can be
used instead of <code class="docutils literal"><span class="pre">secgroup_id</span></code>.</dd>
<dt>secgroup_id</dt>
<dd>The ID of the security group for which to gather information. Can be
used instead of <code class="docutils literal"><span class="pre">name</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f secgroup_info opennebula <span class="nv">name</span><span class="o">=</span>my-secgroup
salt-cloud --function secgroup_info opennebula <span class="nv">secgroup_id</span><span class="o">=</span>5
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.secgroup_update">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">secgroup_update</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.secgroup_update" title="永久链接至目标">¶</a></dt>
<dd><p>Replaces the security group template contents.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>secgroup_id</dt>
<dd>The ID of the security group to update. Can be used instead of
<code class="docutils literal"><span class="pre">secgroup_name</span></code>.</dd>
<dt>secgroup_name</dt>
<dd>The name of the security group to update. Can be used instead of
<code class="docutils literal"><span class="pre">secgroup_id</span></code>.</dd>
<dt>path</dt>
<dd>The path to a file containing the template of the security group. Syntax
within the file can be the usual attribute=value or XML. Can be used instead
of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>The template data of the security group. Syntax can be the usual attribute=value
or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
<dt>update_type</dt>
<dd>There are two ways to update a security group: <code class="docutils literal"><span class="pre">replace</span></code> the whole template
or <code class="docutils literal"><span class="pre">merge</span></code> the new template with the existing one.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud --function secgroup_update opennebula <span class="nv">secgroup_id</span><span class="o">=</span><span class="m">100</span> <span class="se">\</span>
    <span class="nv">path</span><span class="o">=</span>/path/to/secgroup_update_file.txt <span class="se">\</span>
    <span class="nv">update_type</span><span class="o">=</span>replace
salt-cloud -f secgroup_update opennebula <span class="nv">secgroup_name</span><span class="o">=</span>my-secgroup <span class="nv">update_type</span><span class="o">=</span>merge <span class="se">\</span>
    <span class="nv">data</span><span class="o">=</span><span class="s2">&quot;Name = test RULE = [PROTOCOL = TCP, RULE_TYPE = inbound, RANGE = 1000:2000]&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.show_instance">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">show_instance</code><span class="sig-paren">(</span><em>name</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.show_instance" title="永久链接至目标">¶</a></dt>
<dd><p>Show the details from OpenNebula concerning a named VM.</p>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM for which to display details.</dd>
<dt>call</dt>
<dd>Type of call to use with this function such as <code class="docutils literal"><span class="pre">function</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud --action show_instance vm_name
salt-cloud -a show_instance vm_name
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.start">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">start</code><span class="sig-paren">(</span><em>name</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.start" title="永久链接至目标">¶</a></dt>
<dd><p>Start a VM.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM to start.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a start my-vm
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.stop">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">stop</code><span class="sig-paren">(</span><em>name</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.stop" title="永久链接至目标">¶</a></dt>
<dd><p>Stop a VM.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM to stop.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a stop my-vm
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.template_allocate">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">template_allocate</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.template_allocate" title="永久链接至目标">¶</a></dt>
<dd><p>Allocates a new template in OpenNebula.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>path</dt>
<dd>The path to a file containing the elements of the template to be allocated.
Syntax within the file can be the usual attribute=value or XML. Can be used
instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the elements of the template to be allocated. Syntax can be the usual
attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f template_allocate opennebula <span class="nv">path</span><span class="o">=</span>/path/to/template_file.txt
salt-cloud -f template_allocate opennebula <span class="se">\</span>
    <span class="nv">data</span><span class="o">=</span><span class="s1">&#39;CPU=&quot;1.0&quot; DISK=[IMAGE=&quot;Ubuntu-14.04&quot;] GRAPHICS=[LISTEN=&quot;0.0.0.0&quot;,TYPE=&quot;vnc&quot;] \</span>
<span class="s1">    MEMORY=&quot;1024&quot; NETWORK=&quot;yes&quot; NIC=[NETWORK=&quot;192net&quot;,NETWORK_UNAME=&quot;oneadmin&quot;] \</span>
<span class="s1">    OS=[ARCH=&quot;x86_64&quot;] SUNSTONE_CAPACITY_SELECT=&quot;YES&quot; SUNSTONE_NETWORK_SELECT=&quot;YES&quot; \</span>
<span class="s1">    VCPU=&quot;1&quot;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.template_clone">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">template_clone</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.template_clone" title="永久链接至目标">¶</a></dt>
<dd><p>Clones an existing virtual machine template.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the new template.</dd>
<dt>template_id</dt>
<dd>The ID of the template to be cloned. Can be used instead of <code class="docutils literal"><span class="pre">template_name</span></code>.</dd>
<dt>template_name</dt>
<dd>The name of the template to be cloned. Can be used instead of <code class="docutils literal"><span class="pre">template_id</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f template_clone opennebula <span class="nv">name</span><span class="o">=</span>my-new-template <span class="nv">template_id</span><span class="o">=</span>0
salt-cloud -f template_clone opennebula <span class="nv">name</span><span class="o">=</span>my-new-template <span class="nv">template_name</span><span class="o">=</span>my-template
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.template_delete">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">template_delete</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.template_delete" title="永久链接至目标">¶</a></dt>
<dd><p>Deletes the given template from OpenNebula. Either a name or a template_id must
be supplied.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the template to delete. Can be used instead of <code class="docutils literal"><span class="pre">template_id</span></code>.</dd>
<dt>template_id</dt>
<dd>The ID of the template to delete. Can be used instead of <code class="docutils literal"><span class="pre">name</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f template_delete opennebula <span class="nv">name</span><span class="o">=</span>my-template
salt-cloud --function template_delete opennebula <span class="nv">template_id</span><span class="o">=</span>5
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.template_instantiate">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">template_instantiate</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.template_instantiate" title="永久链接至目标">¶</a></dt>
<dd><p>Instantiates a new virtual machine from a template.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last"><code class="docutils literal"><span class="pre">template_instantiate</span></code> creates a VM on OpenNebula from a template, but it
does not install Salt on the new VM. Use the <code class="docutils literal"><span class="pre">create</span></code> function for that
functionality: <code class="docutils literal"><span class="pre">salt-cloud</span> <span class="pre">-p</span> <span class="pre">opennebula-profile</span> <span class="pre">vm-name</span></code>.</p>
</div>
<dl class="docutils">
<dt>vm_name</dt>
<dd>Name for the new VM instance.</dd>
<dt>template_id</dt>
<dd>The ID of the template from which the VM will be created. Can be used instead
of <code class="docutils literal"><span class="pre">template_name</span></code>.</dd>
<dt>template_name</dt>
<dd>The name of the template from which the VM will be created. Can be used instead
of <code class="docutils literal"><span class="pre">template_id</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f template_instantiate opennebula <span class="nv">vm_name</span><span class="o">=</span>my-new-vm <span class="nv">template_id</span><span class="o">=</span>0
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.template_update">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">template_update</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.template_update" title="永久链接至目标">¶</a></dt>
<dd><p>Replaces the template contents.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>template_id</dt>
<dd>The ID of the template to update. Can be used instead of <code class="docutils literal"><span class="pre">template_name</span></code>.</dd>
<dt>template_name</dt>
<dd>The name of the template to update. Can be used instead of <code class="docutils literal"><span class="pre">template_id</span></code>.</dd>
<dt>path</dt>
<dd>The path to a file containing the elements of the template to be updated.
Syntax within the file can be the usual attribute=value or XML. Can be
used instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the elements of the template to be updated. Syntax can be the
usual attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
<dt>update_type</dt>
<dd>There are two ways to update a template: <code class="docutils literal"><span class="pre">replace</span></code> the whole template
or <code class="docutils literal"><span class="pre">merge</span></code> the new template with the existing one.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud --function template_update opennebula <span class="nv">template_id</span><span class="o">=</span><span class="m">1</span> <span class="nv">update_type</span><span class="o">=</span>replace <span class="se">\</span>
    <span class="nv">path</span><span class="o">=</span>/path/to/template_update_file.txt
salt-cloud -f template_update opennebula <span class="nv">template_name</span><span class="o">=</span>my-template <span class="nv">update_type</span><span class="o">=</span>merge <span class="se">\</span>
    <span class="nv">data</span><span class="o">=</span><span class="s1">&#39;CPU=&quot;1.0&quot; DISK=[IMAGE=&quot;Ubuntu-14.04&quot;] GRAPHICS=[LISTEN=&quot;0.0.0.0&quot;,TYPE=&quot;vnc&quot;] \</span>
<span class="s1">    MEMORY=&quot;1024&quot; NETWORK=&quot;yes&quot; NIC=[NETWORK=&quot;192net&quot;,NETWORK_UNAME=&quot;oneadmin&quot;] \</span>
<span class="s1">    OS=[ARCH=&quot;x86_64&quot;] SUNSTONE_CAPACITY_SELECT=&quot;YES&quot; SUNSTONE_NETWORK_SELECT=&quot;YES&quot; \</span>
<span class="s1">    VCPU=&quot;1&quot;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_action">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_action</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_action" title="永久链接至目标">¶</a></dt>
<dd><p>Submits an action to be performed on a given virtual machine.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM to action.</dd>
<dt>action</dt>
<dd><dl class="first last docutils">
<dt>The action to be performed on the VM. Available options include:</dt>
<dd><ul class="first last simple">
<li>boot</li>
<li>delete</li>
<li>delete-recreate</li>
<li>hold</li>
<li>poweroff</li>
<li>poweroff-hard</li>
<li>reboot</li>
<li>reboot-hard</li>
<li>release</li>
<li>resched</li>
<li>resume</li>
<li>shutdown</li>
<li>shutdown-hard</li>
<li>stop</li>
<li>suspend</li>
<li>undeploy</li>
<li>undeploy-hard</li>
<li>unresched</li>
</ul>
</dd>
</dl>
</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_action my-vm <span class="nv">action</span><span class="o">=</span><span class="s1">&#39;release&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_allocate">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_allocate</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_allocate" title="永久链接至目标">¶</a></dt>
<dd><p>Allocates a new virtual machine in OpenNebula.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>path</dt>
<dd>The path to a file defining the template of the VM to allocate.
Syntax within the file can be the usual attribute=value or XML.
Can be used instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the template definitions of the VM to allocate. Syntax can
be the usual attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
<dt>hold</dt>
<dd>If this parameter is set to <code class="docutils literal"><span class="pre">True</span></code>, the VM will be created in
the <code class="docutils literal"><span class="pre">HOLD</span></code> state. If not set, the VM is created in the <code class="docutils literal"><span class="pre">PENDING</span></code>
state. Default is <code class="docutils literal"><span class="pre">False</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f vm_allocate <span class="nv">path</span><span class="o">=</span>/path/to/vm_template.txt
salt-cloud --function vm_allocate <span class="nv">path</span><span class="o">=</span>/path/to/vm_template.txt <span class="nv">hold</span><span class="o">=</span>True
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_attach">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_attach</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_attach" title="永久链接至目标">¶</a></dt>
<dd><p>Attaches a new disk to the given virtual machine.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM for which to attach the new disk.</dd>
<dt>path</dt>
<dd>The path to a file containing a single disk vector attribute.
Syntax within the file can be the usual attribute=value or XML.
Can be used instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the data needed to attach a single disk vector attribute.
Syntax can be the usual attribute=value or XML. Can be used instead
of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_attach my-vm <span class="nv">path</span><span class="o">=</span>/path/to/disk_file.txt
salt-cloud -a vm_attach my-vm <span class="nv">data</span><span class="o">=</span><span class="s2">&quot;DISK=[DISK_ID=1]&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_attach_nic">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_attach_nic</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_attach_nic" title="永久链接至目标">¶</a></dt>
<dd><p>Attaches a new network interface to the given virtual machine.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM for which to attach the new network interface.</dd>
<dt>path</dt>
<dd>The path to a file containing a single NIC vector attribute.
Syntax within the file can be the usual attribute=value or XML. Can
be used instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the single NIC vector attribute to attach to the VM.
Syntax can be the usual attribute=value or XML. Can be used instead
of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_attach_nic my-vm <span class="nv">path</span><span class="o">=</span>/path/to/nic_file.txt
salt-cloud -a vm_attach_nic my-vm <span class="nv">data</span><span class="o">=</span><span class="s2">&quot;NIC=[NETWORK_ID=1]&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_deploy">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_deploy</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_deploy" title="永久链接至目标">¶</a></dt>
<dd><p>Initiates the instance of the given VM on the target host.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM to deploy.</dd>
<dt>host_id</dt>
<dd>The ID of the target host where the VM will be deployed. Can be used instead
of <code class="docutils literal"><span class="pre">host_name</span></code>.</dd>
<dt>host_name</dt>
<dd>The name of the target host where the VM will be deployed. Can be used instead
of <code class="docutils literal"><span class="pre">host_id</span></code>.</dd>
<dt>capacity_maintained</dt>
<dd>True to enforce the Host capacity is not over-committed. This parameter is only
acknowledged for users in the <code class="docutils literal"><span class="pre">oneadmin</span></code> group. Host capacity will be always
enforced for regular users.</dd>
<dt>datastore_id</dt>
<dd>The ID of the target system data-store where the VM will be deployed. Optional
and can be used instead of <code class="docutils literal"><span class="pre">datastore_name</span></code>. If neither <code class="docutils literal"><span class="pre">datastore_id</span></code> nor
<code class="docutils literal"><span class="pre">datastore_name</span></code> are set, OpenNebula will choose the data-store.</dd>
<dt>datastore_name</dt>
<dd>The name of the target system data-store where the VM will be deployed. Optional,
and can be used instead of <code class="docutils literal"><span class="pre">datastore_id</span></code>. If neither <code class="docutils literal"><span class="pre">datastore_id</span></code> nor
<code class="docutils literal"><span class="pre">datastore_name</span></code> are set, OpenNebula will choose the data-store.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_deploy my-vm <span class="nv">host_id</span><span class="o">=</span>0
salt-cloud -a vm_deploy my-vm <span class="nv">host_id</span><span class="o">=</span><span class="m">1</span> <span class="nv">capacity_maintained</span><span class="o">=</span>False
salt-cloud -a vm_deploy my-vm <span class="nv">host_name</span><span class="o">=</span>host01 <span class="nv">datastore_id</span><span class="o">=</span>1
salt-cloud -a vm_deploy my-vm <span class="nv">host_name</span><span class="o">=</span>host01 <span class="nv">datastore_name</span><span class="o">=</span>default
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_detach">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_detach</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_detach" title="永久链接至目标">¶</a></dt>
<dd><p>Detaches a disk from a virtual machine.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM from which to detach the disk.</dd>
<dt>disk_id</dt>
<dd>The ID of the disk to detach.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_detach my-vm <span class="nv">disk_id</span><span class="o">=</span>1
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_detach_nic">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_detach_nic</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_detach_nic" title="永久链接至目标">¶</a></dt>
<dd><p>Detaches a disk from a virtual machine.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM from which to detach the network interface.</dd>
<dt>nic_id</dt>
<dd>The ID of the nic to detach.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_detach_nic my-vm <span class="nv">nic_id</span><span class="o">=</span>1
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_disk_save">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_disk_save</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_disk_save" title="永久链接至目标">¶</a></dt>
<dd><p>Sets the disk to be saved in the given image.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM containing the disk to save.</dd>
<dt>disk_id</dt>
<dd>The ID of the disk to save.</dd>
<dt>image_name</dt>
<dd>The name of the new image where the disk will be saved.</dd>
<dt>image_type</dt>
<dd>The type for the new image. If not set, then the default <code class="docutils literal"><span class="pre">ONED</span></code> Configuration
will be used. Other valid types include: OS, CDROM, DATABLOCK, KERNEL, RAMDISK,
and CONTEXT.</dd>
<dt>snapshot_id</dt>
<dd>The ID of the snapshot to export. If not set, the current image state will be
used.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_disk_save my-vm <span class="nv">disk_id</span><span class="o">=</span><span class="m">1</span> <span class="nv">image_name</span><span class="o">=</span>my-new-image
salt-cloud -a vm_disk_save my-vm <span class="nv">disk_id</span><span class="o">=</span><span class="m">1</span> <span class="nv">image_name</span><span class="o">=</span>my-new-image <span class="nv">image_type</span><span class="o">=</span>CONTEXT <span class="nv">snapshot_id</span><span class="o">=</span>10
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_disk_snapshot_create">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_disk_snapshot_create</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_disk_snapshot_create" title="永久链接至目标">¶</a></dt>
<dd><p>Takes a new snapshot of the disk image.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM of which to take the snapshot.</dd>
<dt>disk_id</dt>
<dd>The ID of the disk to save.</dd>
<dt>description</dt>
<dd>The description for the snapshot.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_disk_snapshot_create my-vm <span class="nv">disk_id</span><span class="o">=</span><span class="m">0</span> <span class="nv">description</span><span class="o">=</span><span class="s2">&quot;My Snapshot Description&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_disk_snapshot_delete">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_disk_snapshot_delete</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_disk_snapshot_delete" title="永久链接至目标">¶</a></dt>
<dd><p>Deletes a disk snapshot based on the given VM and the disk_id.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM containing the snapshot to delete.</dd>
<dt>disk_id</dt>
<dd>The ID of the disk to save.</dd>
<dt>snapshot_id</dt>
<dd>The ID of the snapshot to be deleted.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_disk_snapshot_delete my-vm <span class="nv">disk_id</span><span class="o">=</span><span class="m">0</span> <span class="nv">snapshot_id</span><span class="o">=</span>6
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_disk_snapshot_revert">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_disk_snapshot_revert</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_disk_snapshot_revert" title="永久链接至目标">¶</a></dt>
<dd><p>Reverts a disk state to a previously taken snapshot.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM containing the snapshot.</dd>
<dt>disk_id</dt>
<dd>The ID of the disk to revert its state.</dd>
<dt>snapshot_id</dt>
<dd>The ID of the snapshot to which the snapshot should be reverted.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_disk_snapshot_revert my-vm <span class="nv">disk_id</span><span class="o">=</span><span class="m">0</span> <span class="nv">snapshot_id</span><span class="o">=</span>6
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_info">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_info</code><span class="sig-paren">(</span><em>name</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_info" title="永久链接至目标">¶</a></dt>
<dd><p>Retrieves information for a given virtual machine. A VM name must be supplied.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM for which to gather information.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_info my-vm
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_migrate">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_migrate</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_migrate" title="永久链接至目标">¶</a></dt>
<dd><p>Migrates the specified virtual machine to the specified target host.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM to migrate.</dd>
<dt>host_id</dt>
<dd>The ID of the host to which the VM will be migrated. Can be used instead
of <code class="docutils literal"><span class="pre">host_name</span></code>.</dd>
<dt>host_name</dt>
<dd>The name of the host to which the VM will be migrated. Can be used instead
of <code class="docutils literal"><span class="pre">host_id</span></code>.</dd>
<dt>live_migration</dt>
<dd>If set to <code class="docutils literal"><span class="pre">True</span></code>, a live-migration will be performed. Default is <code class="docutils literal"><span class="pre">False</span></code>.</dd>
<dt>capacity_maintained</dt>
<dd>True to enforce the Host capacity is not over-committed. This parameter is only
acknowledged for users in the <code class="docutils literal"><span class="pre">oneadmin</span></code> group. Host capacity will be always
enforced for regular users.</dd>
<dt>datastore_id</dt>
<dd>The target system data-store ID where the VM will be migrated. Can be used
instead of <code class="docutils literal"><span class="pre">datastore_name</span></code>.</dd>
<dt>datastore_name</dt>
<dd>The name of the data-store target system where the VM will be migrated. Can be
used instead of <code class="docutils literal"><span class="pre">datastore_id</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_migrate my-vm <span class="nv">host_id</span><span class="o">=</span><span class="m">0</span> <span class="nv">datastore_id</span><span class="o">=</span>1
salt-cloud -a vm_migrate my-vm <span class="nv">host_id</span><span class="o">=</span><span class="m">0</span> <span class="nv">datastore_id</span><span class="o">=</span><span class="m">1</span> <span class="nv">live_migration</span><span class="o">=</span>True
salt-cloud -a vm_migrate my-vm <span class="nv">host_name</span><span class="o">=</span>host01 <span class="nv">datastore_name</span><span class="o">=</span>default
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_monitoring">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_monitoring</code><span class="sig-paren">(</span><em>name</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_monitoring" title="永久链接至目标">¶</a></dt>
<dd><p>Returns the monitoring records for a given virtual machine. A VM name must be
supplied.</p>
<p>The monitoring information returned is a list of VM elements. Each VM element
contains the complete dictionary of the VM with the updated information returned
by the poll action.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM for which to gather monitoring records.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_monitoring my-vm
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_resize">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_resize</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_resize" title="永久链接至目标">¶</a></dt>
<dd><p>Changes the capacity of the virtual machine.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM to resize.</dd>
<dt>path</dt>
<dd>The path to a file containing new capacity elements CPU, VCPU, MEMORY. If one
of them is not present, or its value is 0, the VM will not be re-sized. Syntax
within the file can be the usual attribute=value or XML. Can be used instead
of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the new capacity elements CPU, VCPU, and MEMORY. If one of them is not
present, or its value is 0, the VM will not be re-sized. Can be used instead of
<code class="docutils literal"><span class="pre">path</span></code>.</dd>
<dt>capacity_maintained</dt>
<dd>True to enforce the Host capacity is not over-committed. This parameter is only
acknowledged for users in the <code class="docutils literal"><span class="pre">oneadmin</span></code> group. Host capacity will be always
enforced for regular users.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_resize my-vm <span class="nv">path</span><span class="o">=</span>/path/to/capacity_template.txt
salt-cloud -a vm_resize my-vm <span class="nv">path</span><span class="o">=</span>/path/to/capacity_template.txt <span class="nv">capacity_maintained</span><span class="o">=</span>False
salt-cloud -a vm_resize my-vm <span class="nv">data</span><span class="o">=</span><span class="s2">&quot;CPU=1 VCPU=1 MEMORY=1024&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_snapshot_create">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_snapshot_create</code><span class="sig-paren">(</span><em>vm_name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_snapshot_create" title="永久链接至目标">¶</a></dt>
<dd><p>Creates a new virtual machine snapshot from the provided VM.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>vm_name</dt>
<dd>The name of the VM from which to create the snapshot.</dd>
<dt>snapshot_name</dt>
<dd>The name of the snapshot to be created.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_snapshot_create my-vm <span class="nv">snapshot_name</span><span class="o">=</span>my-new-snapshot
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_snapshot_delete">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_snapshot_delete</code><span class="sig-paren">(</span><em>vm_name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_snapshot_delete" title="永久链接至目标">¶</a></dt>
<dd><p>Deletes a virtual machine snapshot from the provided VM.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>vm_name</dt>
<dd>The name of the VM from which to delete the snapshot.</dd>
<dt>snapshot_id</dt>
<dd>The ID of the snapshot to be deleted.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_snapshot_delete my-vm <span class="nv">snapshot_id</span><span class="o">=</span>8
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_snapshot_revert">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_snapshot_revert</code><span class="sig-paren">(</span><em>vm_name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_snapshot_revert" title="永久链接至目标">¶</a></dt>
<dd><p>Reverts a virtual machine to a snapshot</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>vm_name</dt>
<dd>The name of the VM to revert.</dd>
<dt>snapshot_id</dt>
<dd>The snapshot ID.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_snapshot_revert my-vm <span class="nv">snapshot_id</span><span class="o">=</span>42
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vm_update">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vm_update</code><span class="sig-paren">(</span><em>name</em>, <em>kwargs=None</em>, <em>call=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vm_update" title="永久链接至目标">¶</a></dt>
<dd><p>Replaces the user template contents.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the VM to update.</dd>
<dt>path</dt>
<dd>The path to a file containing new user template contents. Syntax within the
file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the new user template contents. Syntax can be the usual attribute=value
or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
<dt>update_type</dt>
<dd>There are two ways to update a VM: <code class="docutils literal"><span class="pre">replace</span></code> the whole template
or <code class="docutils literal"><span class="pre">merge</span></code> the new template with the existing one.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -a vm_update my-vm <span class="nv">path</span><span class="o">=</span>/path/to/user_template_file.txt <span class="nv">update_type</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vn_add_ar">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vn_add_ar</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vn_add_ar" title="永久链接至目标">¶</a></dt>
<dd><p>Adds address ranges to a given virtual network.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>vn_id</dt>
<dd>The ID of the virtual network to add the address range. Can be used
instead of <code class="docutils literal"><span class="pre">vn_name</span></code>.</dd>
<dt>vn_name</dt>
<dd>The name of the virtual network to add the address range. Can be used
instead of <code class="docutils literal"><span class="pre">vn_id</span></code>.</dd>
<dt>path</dt>
<dd>The path to a file containing the template of the address range to add.
Syntax within the file can be the usual attribute=value or XML. Can be
used instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the template of the address range to add. Syntax can be the
usual attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f vn_add_ar opennebula <span class="nv">vn_id</span><span class="o">=</span><span class="m">3</span> <span class="nv">path</span><span class="o">=</span>/path/to/address_range.txt
salt-cloud -f vn_add_ar opennebula <span class="nv">vn_name</span><span class="o">=</span>my-vn <span class="se">\</span>
    <span class="nv">data</span><span class="o">=</span><span class="s2">&quot;AR=[TYPE=IP4, IP=192.168.0.5, SIZE=10]&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vn_allocate">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vn_allocate</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vn_allocate" title="永久链接至目标">¶</a></dt>
<dd><p>Allocates a new virtual network in OpenNebula.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>path</dt>
<dd>The path to a file containing the template of the virtual network to allocate.
Syntax within the file can be the usual attribute=value or XML. Can be used
instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the template of the virtual network to allocate. Syntax can be the
usual attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
<dt>cluster_id</dt>
<dd>The ID of the cluster for which to add the new virtual network. Can be used
instead of <code class="docutils literal"><span class="pre">cluster_name</span></code>. If neither <code class="docutils literal"><span class="pre">cluster_id</span></code> nor <code class="docutils literal"><span class="pre">cluster_name</span></code>
are provided, the virtual network won’t be added to any cluster.</dd>
<dt>cluster_name</dt>
<dd>The name of the cluster for which to add the new virtual network. Can be used
instead of <code class="docutils literal"><span class="pre">cluster_id</span></code>. If neither <code class="docutils literal"><span class="pre">cluster_name</span></code> nor <code class="docutils literal"><span class="pre">cluster_id</span></code> are
provided, the virtual network won't be added to any cluster.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f vn_allocate opennebula <span class="nv">path</span><span class="o">=</span>/path/to/vn_file.txt
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vn_delete">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vn_delete</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vn_delete" title="永久链接至目标">¶</a></dt>
<dd><p>Deletes the given virtual network from OpenNebula. Either a name or a vn_id must
be supplied.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the virtual network to delete. Can be used instead of <code class="docutils literal"><span class="pre">vn_id</span></code>.</dd>
<dt>vn_id</dt>
<dd>The ID of the virtual network to delete. Can be used instead of <code class="docutils literal"><span class="pre">name</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f vn_delete opennebula <span class="nv">name</span><span class="o">=</span>my-virtual-network
salt-cloud --function vn_delete opennebula <span class="nv">vn_id</span><span class="o">=</span>3
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vn_free_ar">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vn_free_ar</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vn_free_ar" title="永久链接至目标">¶</a></dt>
<dd><p>Frees a reserved address range from a virtual network.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>vn_id</dt>
<dd>The ID of the virtual network from which to free an address range.
Can be used instead of <code class="docutils literal"><span class="pre">vn_name</span></code>.</dd>
<dt>vn_name</dt>
<dd>The name of the virtual network from which to free an address range.
Can be used instead of <code class="docutils literal"><span class="pre">vn_id</span></code>.</dd>
<dt>ar_id</dt>
<dd>The ID of the address range to free.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f vn_free_ar opennebula <span class="nv">vn_id</span><span class="o">=</span><span class="m">3</span> <span class="nv">ar_id</span><span class="o">=</span>1
salt-cloud -f vn_free_ar opennebula <span class="nv">vn_name</span><span class="o">=</span>my-vn <span class="nv">ar_id</span><span class="o">=</span>1
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vn_hold">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vn_hold</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vn_hold" title="永久链接至目标">¶</a></dt>
<dd><p>Holds a virtual network lease as used.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>vn_id</dt>
<dd>The ID of the virtual network from which to hold the lease. Can be used
instead of <code class="docutils literal"><span class="pre">vn_name</span></code>.</dd>
<dt>vn_name</dt>
<dd>The name of the virtual network from which to hold the lease. Can be used
instead of <code class="docutils literal"><span class="pre">vn_id</span></code>.</dd>
<dt>path</dt>
<dd>The path to a file defining the template of the lease to hold.
Syntax within the file can be the usual attribute=value or XML. Can be
used instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the template of the lease to hold. Syntax can be the usual
attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f vn_hold opennebula <span class="nv">vn_id</span><span class="o">=</span><span class="m">3</span> <span class="nv">path</span><span class="o">=</span>/path/to/vn_hold_file.txt
salt-cloud -f vn_hold opennebula <span class="nv">vn_name</span><span class="o">=</span>my-vn <span class="nv">data</span><span class="o">=</span><span class="s2">&quot;LEASES=[IP=192.168.0.5]&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vn_info">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vn_info</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vn_info" title="永久链接至目标">¶</a></dt>
<dd><p>Retrieves information for the virtual network.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>name</dt>
<dd>The name of the virtual network for which to gather information. Can be
used instead of <code class="docutils literal"><span class="pre">vn_id</span></code>.</dd>
<dt>vn_id</dt>
<dd>The ID of the virtual network for which to gather information. Can be
used instead of <code class="docutils literal"><span class="pre">name</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f vn_info opennebula <span class="nv">vn_id</span><span class="o">=</span>3
salt-cloud --function vn_info opennebula <span class="nv">name</span><span class="o">=</span>public
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vn_release">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vn_release</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vn_release" title="永久链接至目标">¶</a></dt>
<dd><p>Releases a virtual network lease that was previously on hold.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>vn_id</dt>
<dd>The ID of the virtual network from which to release the lease. Can be
used instead of <code class="docutils literal"><span class="pre">vn_name</span></code>.</dd>
<dt>vn_name</dt>
<dd>The name of the virtual network from which to release the lease.
Can be used instead of <code class="docutils literal"><span class="pre">vn_id</span></code>.</dd>
<dt>path</dt>
<dd>The path to a file defining the template of the lease to release.
Syntax within the file can be the usual attribute=value or XML. Can be
used instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the template defining the lease to release. Syntax can be the
usual attribute=value or XML. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f vn_release opennebula <span class="nv">vn_id</span><span class="o">=</span><span class="m">3</span> <span class="nv">path</span><span class="o">=</span>/path/to/vn_release_file.txt
salt-cloud <span class="o">=</span>f vn_release opennebula <span class="nv">vn_name</span><span class="o">=</span>my-vn <span class="nv">data</span><span class="o">=</span><span class="s2">&quot;LEASES=[IP=192.168.0.5]&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="salt.cloud.clouds.opennebula.vn_reserve">
<code class="descclassname">salt.cloud.clouds.opennebula.</code><code class="descname">vn_reserve</code><span class="sig-paren">(</span><em>call=None</em>, <em>kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#salt.cloud.clouds.opennebula.vn_reserve" title="永久链接至目标">¶</a></dt>
<dd><p>Reserve network addresses.</p>
<div class="versionadded">
<p><span class="versionmodified">2016.3.0 新版功能.</span></p>
</div>
<dl class="docutils">
<dt>vn_id</dt>
<dd>The ID of the virtual network from which to reserve addresses. Can be used
instead of vn_name.</dd>
<dt>vn_name</dt>
<dd>The name of the virtual network from which to reserve addresses. Can be
used instead of vn_id.</dd>
<dt>path</dt>
<dd>The path to a file defining the template of the address reservation.
Syntax within the file can be the usual attribute=value or XML. Can be used
instead of <code class="docutils literal"><span class="pre">data</span></code>.</dd>
<dt>data</dt>
<dd>Contains the template defining the address reservation. Syntax can be the
usual attribute=value or XML. Data provided must be wrapped in double
quotes. Can be used instead of <code class="docutils literal"><span class="pre">path</span></code>.</dd>
</dl>
<p>命令行接口CLI 范例:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-cloud -f vn_reserve opennebula <span class="nv">vn_id</span><span class="o">=</span><span class="m">3</span> <span class="nv">path</span><span class="o">=</span>/path/to/vn_reserve_file.txt
salt-cloud -f vn_reserve opennebula <span class="nv">vn_name</span><span class="o">=</span>my-vn <span class="nv">data</span><span class="o">=</span><span class="s2">&quot;SIZE=10 AR_ID=8 NETWORK_ID=1&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


                            </div>
                        </div>
                    </div>
                    <div class="footer">
                        <hr />

                        
                    </div> <!--end footer-->

                    </div>
                </div>
            <!--start sidebar-->
            <div id="sidebar-wrapper">
            <div id="sidebar-static">

                <a class="ss-logo" href="http://saltstack.com"><img width="250" height="63" class="nolightbox sidebar-logo" src="../../../_static/images/saltstack_logo.svg"></a>

                
                <div class="versions">
                    <p>Version 2016.3.0-172-gbf4b651</p>
                </div>
                

                <div id="search-form" class="inner-addon left-addon">
                    <i class="glyphicon glyphicon-search"></i>
                    <input type="text" class="form-control">
                </div>

            </div> <!--end sidebar-static-->

                <div id="sidebar-nav">
                    
                    
                    
                    <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">SaltStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/installation/index.html">安装教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/configuration/index.html">Configuring Salt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/using_salt.html">Using Salt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/execution/index.html">Remote Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/states/index.html">Configuration Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/event/index.html">Events &amp; Reactor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/orchestrate/index.html">Orchestration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/ssh/index.html">Salt SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/cloud/index.html">Salt云端</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/proxyminion/index.html">Salt Proxy Minion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/virt/index.html">Salt Virt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">Command Line Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Salt Module Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/api.html">APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/topology/index.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/windows/index.html">Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/development/index.html">Salt开发</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../topics/releases/index.html">Release Notes</a></li>
</ul>

                    
                    
                </div>

                <div id="sidebar-static-bottom">
                <div class="text-nowrap">
                    <!--social icons from http://vervex.deviantart.com/art/somacro-45-300dpi-social-media-icons-267955425-->
                    <ul id="social-links" class="list-inline">
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="watch saltstack videos on youtube" href="https://www.youtube.com/user/saltstack" target="_blank"><img class="nolightbox" width="24" src="../../../_static/images/youtube-variation.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="view the latest saltstack tweets" href="http://twitter.com/saltstackinc" target="_blank"><img class="nolightbox" width="24" src="../../../_static/images/twitter.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="subscribe to the salt users mailing list" href="https://groups.google.com/forum/#!forum/salt-users" target="_blank"><img class="nolightbox" width="24" src="../../../_static/images/email.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="download saltstack code from github" href="https://github.com/saltstack/salt" target="_blank"><img class="nolightbox" width="24" src="../../../_static/images/github.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="chat in #salt on freenode irc" href="http://webchat.freenode.net/?channels=salt&uio=mj10cnvljjk9dhj1zsyxmd10cnvl83" target="_blank"><img class="nolightbox" width="24" src="../../../_static/images/messenger-generic.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="/r/saltstack" href="http://www.reddit.com/r/saltstack/" target="_blank"><img class="nolightbox" width="24" src="../../../_static/images/reddit.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="ask a saltstack question on stackoverflow" href="http://stackoverflow.com/questions/tagged/salt-stack" target="_blank"><img class="nolightbox" width="24" src="../../../_static/images/stackoverflow.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="join or start a saltstack meetup" href="http://www.meetup.com/find/?keywords=saltstack" target="_blank"><img class="nolightbox" width="24" src="../../../_static/images/meetup.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="follow saltstack on linkedin" href="http://www.linkedin.com/company/salt-stack-inc" target="_blank"><img class="nolightbox" width="24" src="../../../_static/images/linkedin.png" ></a></li>
                    </ul>
                </div>
                </div>
            </div>
            <!--end sidebar-->

            </div> <!--end wrapper--> <!--end block content-->
        
    <script>
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../../',
            VERSION:     '2015.8.7',
            SEARCH_CX:   '004624818632696854117:yfmprrbw3pk',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  'true'
        };
    </script>

    <script src="../../../_static/js/core.min.js"></script>

    <script src="../../../_static/js/webhelp.min_v1.4.3.js"></script>

        
    </body>
</html>