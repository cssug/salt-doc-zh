<!DOCTYPE html>







<html>
    <head>
        <meta charset="utf-8">
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>解决问题</title>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="google-site-verification" content="1Y-ojT3ndjxA9coB77iUDyXPWxeuQ3T4_r0j-QG6QHg" />

        
        <link rel="stylesheet" href="../../_static/css/core.min.css">
        <link rel="stylesheet" href="../../_static/css/webhelp.min_v1.4.4.css">
            <link rel="shortcut icon" href="../../_static/favicon.ico">

        <!--[if lt IE 9]>
        <script src="../../_static/js/respond.min.js"></script>
        <![endif]-->
        <link rel="top" title="" href="../../index.html">
        <link rel="up" title="Using Salt" href="../using_salt.html">
        <link rel="next" title="Troubleshooting the Salt Master" href="master.html">
        <link rel="prev" title="了解YAML" href="../yaml/index.html">
    </head>

    <body class="index">
        <!--[if lt IE 8]>
            <p>You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser.</a></p>
        <![endif]-->
        <div id="wrapper">
            <div id="page-content-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-12 col-md-11 col-md-offset-1 col-lg-10 col-lg-offset-1">
                            <!--start navbar-->
                            <nav class="navbar navbar-default">
                                <div class="navbar-header">
                                    <button type="button" class="pull-left navbar-toggle collapsed" id="menu-toggle"><span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <ul id="header-nav" class="nav navbar-nav">
        <li>
            <a href="../../contents.html" title="Table of Contents">Table of Contents</a>
            
        </li>
        <li>
            <a href="../../glossary.html" title="Glossary">Glossary</a>
            
        </li>
        <li>
            <a href="../yaml/index.html" title="了解YAML">上一页</a>
            
        </li>
        <li>
            <a href="master.html" title="Troubleshooting the Salt Master">下一页</a>
            
        </li>
        <li>
            <a href="../../salt-modindex.html" title="Salt Module Index">all salt modules</a>
            
        </li>
        <li>
            <a href="../../genindex.html" title="总目录">索引</a>
            
        </li> 

                                        

                                        
                                    </ul>
                                </div>
                            </nav>
                            <!--end navbar-->

                            

                            

                            
                            <div class="body-content">
                                
  <div class="section" id="troubleshooting">
<h1>解决问题<a class="headerlink" href="#troubleshooting" title="永久链接至标题">¶</a></h1>
<p>The intent of the troubleshooting section is to introduce solutions to a
number of common issues encountered by users and the tools that are available
to aid in developing States and Salt code.</p>
<div class="section" id="troubleshooting-the-salt-master">
<h2>Troubleshooting the Salt Master<a class="headerlink" href="#troubleshooting-the-salt-master" title="永久链接至标题">¶</a></h2>
<p>If your Salt master is having issues such as minions not returning data, slow
execution times, or a variety of other issues, the following links contain
details on troubleshooting the most common issues encountered:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="master.html">Troubleshooting the Salt Master</a><ul>
<li class="toctree-l2"><a class="reference internal" href="master.html#running-in-the-foreground">Running in the Foreground</a></li>
<li class="toctree-l2"><a class="reference internal" href="master.html#what-ports-does-the-master-need-open">What Ports does the Master Need Open?</a></li>
<li class="toctree-l2"><a class="reference internal" href="master.html#too-many-open-files">Too many open files</a></li>
<li class="toctree-l2"><a class="reference internal" href="master.html#salt-master-stops-responding">Salt Master Stops Responding</a></li>
<li class="toctree-l2"><a class="reference internal" href="master.html#live-python-debug-output">Live Python Debug Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="master.html#live-salt-master-profiling">Live Salt-Master Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="master.html#commands-time-out-or-do-not-return-output">Commands Time Out or Do Not Return Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="master.html#passing-the-c-option-to-salt-returns-a-permissions-error">Passing the -c Option to Salt Returns a Permissions Error</a></li>
<li class="toctree-l2"><a class="reference internal" href="master.html#salt-master-doesn-t-return-anything-while-running-jobs">Salt Master Doesn't Return Anything While Running jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="master.html#salt-master-auth-flooding">Salt Master Auth Flooding</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="master.html#running-state-locally">Running state locally</a><ul>
<li class="toctree-l2"><a class="reference internal" href="master.html#salt-master-umask">Salt Master Umask</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="troubleshooting-the-salt-minion">
<h2>Troubleshooting the Salt Minion<a class="headerlink" href="#troubleshooting-the-salt-minion" title="永久链接至标题">¶</a></h2>
<p>In the event that your Salt minion is having issues, a variety of solutions
and suggestions are available. Please refer to the following links for more information:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="minion.html">Troubleshooting the Salt Minion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="minion.html#running-in-the-foreground">Running in the Foreground</a></li>
<li class="toctree-l2"><a class="reference internal" href="minion.html#what-ports-does-the-minion-need-open">What Ports does the Minion Need Open?</a></li>
<li class="toctree-l2"><a class="reference internal" href="minion.html#using-salt-call">Using salt-call</a></li>
<li class="toctree-l2"><a class="reference internal" href="minion.html#live-python-debug-output">Live Python Debug Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="minion.html#multiprocessing-in-execution-modules">Multiprocessing in Execution Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="minion.html#salt-minion-doesn-t-return-anything-while-running-jobs-locally">Salt Minion Doesn't Return Anything While Running Jobs Locally</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="running-in-the-foreground">
<h2>Running in the Foreground<a class="headerlink" href="#running-in-the-foreground" title="永久链接至标题">¶</a></h2>
<p>A great deal of information is available via the debug logging system, if you
are having issues with minions connecting or not starting run the minion and/or
master in the foreground:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-master -l debug
salt-minion -l debug
</pre></div>
</div>
<p>Anyone wanting to run Salt daemons via a process supervisor such as <a class="reference external" href="http://mmonit.com/monit/">monit</a>,
<a class="reference external" href="http://smarden.org/runit/">runit</a>, or <a class="reference external" href="http://supervisord.org/">supervisord</a>, should omit the <code class="docutils literal"><span class="pre">-d</span></code> argument to the daemons and
run them in the foreground.</p>
</div>
<div class="section" id="what-ports-do-the-master-and-minion-need-open">
<h2>What Ports do the Master and Minion Need Open?<a class="headerlink" href="#what-ports-do-the-master-and-minion-need-open" title="永久链接至标题">¶</a></h2>
<p>No ports need to be opened up on each minion. For the master, TCP ports 4505
and 4506 need to be open. If you've put both your Salt master and minion in
debug mode and don't see an acknowledgment that your minion has connected,
it could very well be a firewall.</p>
<p>You can check port connectivity from the minion with the nc command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>nc -v -z salt.master.ip 4505
nc -v -z salt.master.ip 4506
</pre></div>
</div>
<p>There is also a <a class="reference internal" href="../tutorials/firewall.html"><em>firewall configuration</em></a>
document that might help as well.</p>
<p>If you've enabled the right TCP ports on your operating system or Linux
distribution's firewall and still aren't seeing connections, check that no
additional access control system such as <a class="reference external" href="https://en.wikipedia.org/wiki/Security-Enhanced_Linux">SELinux</a> or <a class="reference external" href="http://wiki.apparmor.net/index.php/Main_Page">AppArmor</a> is blocking
Salt.</p>
</div>
<div class="section" id="using-salt-call">
<span id="id1"></span><h2>Using salt-call<a class="headerlink" href="#using-salt-call" title="永久链接至标题">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">salt-call</span></code> command was originally developed for aiding in the development
of new Salt modules. Since then, many applications have been developed for
running any Salt module locally on a minion. These range from the original
intent of salt-call, development assistance, to gathering more verbose output
from calls like <a class="reference internal" href="../../ref/modules/all/salt.modules.state.html#salt.modules.state.highstate" title="salt.modules.state.highstate"><code class="xref py py-mod docutils literal"><span class="pre">state.highstate</span></code></a>.</p>
<p>When creating your state tree, it is generally recommended to invoke
<a class="reference internal" href="../../ref/modules/all/salt.modules.state.html#salt.modules.state.highstate" title="salt.modules.state.highstate"><code class="xref py py-mod docutils literal"><span class="pre">state.highstate</span></code></a> with <code class="docutils literal"><span class="pre">salt-call</span></code>. This
displays far more information about the highstate execution than calling it
remotely. For even more verbosity, increase the loglevel with the same argument
as <code class="docutils literal"><span class="pre">salt-minion</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-call -l debug state.highstate
</pre></div>
</div>
<p>The main difference between using <code class="docutils literal"><span class="pre">salt</span></code> and using <code class="docutils literal"><span class="pre">salt-call</span></code> is that
<code class="docutils literal"><span class="pre">salt-call</span></code> is run from the minion, and it only runs the selected function on
that minion. By contrast, <code class="docutils literal"><span class="pre">salt</span></code> is run from the master, and requires you to
specify the minions on which to run the command using salt's <a class="reference internal" href="../targeting/index.html"><em>targeting
system</em></a>.</p>
</div>
<div class="section" id="too-many-open-files">
<h2>Too many open files<a class="headerlink" href="#too-many-open-files" title="永久链接至标题">¶</a></h2>
<p>The salt-master needs at least 2 sockets per host that connects to it, one for
the Publisher and one for response port. Thus, large installations may, upon
scaling up the number of minions accessing a given master, encounter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>12:45:29,289 <span class="o">[</span>salt.master    <span class="o">][</span>INFO    <span class="o">]</span> Starting Salt worker process 38
Too many open files
sock !<span class="o">=</span> -1 <span class="o">(</span>tcp_listener.cpp:335<span class="o">)</span>
</pre></div>
</div>
<p>The solution to this would be to check the number of files allowed to be
opened by the user running salt-master (root by default):</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">[</span>root@salt-master ~<span class="o">]</span><span class="c1"># ulimit -n</span>
1024
</pre></div>
</div>
<p>And modify that value to be at least equal to the number of minions x 2.
This setting can be changed in limits.conf as the nofile value(s),
and activated upon new a login of the specified user.</p>
<p>So, an environment with 1800 minions, would need 1800 x 2 = 3600 as a minimum.</p>
</div>
<div class="section" id="salt-master-stops-responding">
<h2>Salt Master Stops Responding<a class="headerlink" href="#salt-master-stops-responding" title="永久链接至标题">¶</a></h2>
<p>There are known bugs with ZeroMQ versions less than 2.1.11 which can cause the
Salt master to not respond properly. If you're running a ZeroMQ version greater
than or equal to 2.1.9, you can work around the bug by setting the sysctls
<code class="docutils literal"><span class="pre">net.core.rmem_max</span></code> and <code class="docutils literal"><span class="pre">net.core.wmem_max</span></code> to 16777216. Next, set the third
field in <code class="docutils literal"><span class="pre">net.ipv4.tcp_rmem</span></code> and <code class="docutils literal"><span class="pre">net.ipv4.tcp_wmem</span></code> to at least 16777216.</p>
<p>You can do it manually with something like:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># echo 16777216 &gt; /proc/sys/net/core/rmem_max</span>
<span class="c1"># echo 16777216 &gt; /proc/sys/net/core/wmem_max</span>
<span class="c1"># echo &quot;4096 87380 16777216&quot; &gt; /proc/sys/net/ipv4/tcp_rmem</span>
<span class="c1"># echo &quot;4096 87380 16777216&quot; &gt; /proc/sys/net/ipv4/tcp_wmem</span>
</pre></div>
</div>
<p>Or with the following Salt state:</p>
<div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">net.core.rmem_max</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">sysctl</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">16777216</span>

<span class="l l-Scalar l-Scalar-Plain">net.core.wmem_max</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">sysctl</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">16777216</span>

<span class="l l-Scalar l-Scalar-Plain">net.ipv4.tcp_rmem</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">sysctl</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4096 87380 16777216</span>

<span class="l l-Scalar l-Scalar-Plain">net.ipv4.tcp_wmem</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">sysctl</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4096 87380 16777216</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="salt-and-selinux">
<h2>Salt and SELinux<a class="headerlink" href="#salt-and-selinux" title="永久链接至标题">¶</a></h2>
<p>Currently there are no SELinux policies for Salt. For the most part Salt runs
without issue when SELinux is running in Enforcing mode. This is because when
the minion executes as a daemon the type context is changed to <code class="docutils literal"><span class="pre">initrc_t</span></code>.
The problem with SELinux arises when using salt-call or running the minion in
the foreground, since the type context stays <code class="docutils literal"><span class="pre">unconfined_t</span></code>.</p>
<p>This problem is generally manifest in the rpm install scripts when using the
pkg module. Until a full SELinux Policy is available for Salt the solution
to this issue is to set the execution context of <code class="docutils literal"><span class="pre">salt-call</span></code> and
<code class="docutils literal"><span class="pre">salt-minion</span></code> to rpm_exec_t:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># CentOS 5 and RHEL 5:</span>
chcon -t system_u:system_r:rpm_exec_t:s0 /usr/bin/salt-minion
chcon -t system_u:system_r:rpm_exec_t:s0 /usr/bin/salt-call

<span class="c1"># CentOS 6 and RHEL 6:</span>
chcon system_u:object_r:rpm_exec_t:s0 /usr/bin/salt-minion
chcon system_u:object_r:rpm_exec_t:s0 /usr/bin/salt-call
</pre></div>
</div>
<p>This works well, because the <code class="docutils literal"><span class="pre">rpm_exec_t</span></code> context has very broad control over
other types.</p>
</div>
<div class="section" id="red-hat-enterprise-linux-5">
<h2>Red Hat Enterprise Linux 5<a class="headerlink" href="#red-hat-enterprise-linux-5" title="永久链接至标题">¶</a></h2>
<p>Salt requires Python 2.6 or 2.7. Red Hat Enterprise Linux 5 and its variants
come with Python 2.4 installed by default. When installing on RHEL 5 from the
<a class="reference external" href="http://fedoraproject.org/wiki/EPEL">EPEL repository</a> this is handled for you. But, if you run Salt from git, be
advised that its dependencies need to be installed from EPEL and that Salt
needs to be run with the <code class="docutils literal"><span class="pre">python26</span></code> executable.</p>
</div>
<div class="section" id="common-yaml-gotchas">
<h2>Common YAML Gotchas<a class="headerlink" href="#common-yaml-gotchas" title="永久链接至标题">¶</a></h2>
<p>An extensive list of YAML idiosyncrasies has been compiled:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="yaml_idiosyncrasies.html">YAML Idiosyncrasies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="yaml_idiosyncrasies.html#spaces-vs-tabs">Spaces vs Tabs</a></li>
<li class="toctree-l2"><a class="reference internal" href="yaml_idiosyncrasies.html#indentation">Indentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="yaml_idiosyncrasies.html#true-false-yes-no-on-off">True/False, Yes/No, On/Off</a></li>
<li class="toctree-l2"><a class="reference internal" href="yaml_idiosyncrasies.html#integers-are-parsed-as-integers">Integers are Parsed as Integers</a></li>
<li class="toctree-l2"><a class="reference internal" href="yaml_idiosyncrasies.html#yaml-does-not-like-double-short-decs">YAML does not like &quot;Double Short Decs&quot;</a></li>
<li class="toctree-l2"><a class="reference internal" href="yaml_idiosyncrasies.html#yaml-support-only-plain-ascii">YAML support only plain ASCII</a></li>
<li class="toctree-l2"><a class="reference internal" href="yaml_idiosyncrasies.html#underscores-stripped-in-integer-definitions">Underscores stripped in Integer Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="yaml_idiosyncrasies.html#automatic-datetime-conversion">Automatic <code class="docutils literal"><span class="pre">datetime</span></code> conversion</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="live-python-debug-output">
<h2>Live Python Debug Output<a class="headerlink" href="#live-python-debug-output" title="永久链接至标题">¶</a></h2>
<p>If the minion or master seems to be unresponsive, a SIGUSR1 can be passed to
the processes to display where in the code they are running. If encountering a
situation like this, this debug information can be invaluable. First make
sure the master of minion are running in the foreground:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>salt-master -l debug
salt-minion -l debug
</pre></div>
</div>
<p>Then pass the signal to the master or minion when it seems to be unresponsive:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>killall -SIGUSR1 salt-master
killall -SIGUSR1 salt-minion
</pre></div>
</div>
<p>Also under BSD and Mac OS X in addition to SIGUSR1 signal, debug subroutine set
up for SIGINFO which has an advantage of being sent by Ctrl+T shortcut.</p>
<p>When filing an issue or sending questions to the mailing list for a problem
with an unresponsive daemon this information can be invaluable.</p>
</div>
<div class="section" id="salt-0-16-x-minions-cannot-communicate-with-a-0-17-x-master">
<h2>Salt 0.16.x minions cannot communicate with a 0.17.x master<a class="headerlink" href="#salt-0-16-x-minions-cannot-communicate-with-a-0-17-x-master" title="永久链接至标题">¶</a></h2>
<p>As of release 0.17.1 you can no longer run different versions of Salt on your
Master and Minion servers. This is due to a protocol change for security
purposes. The Salt team will continue to attempt to ensure versions are as
backwards compatible as possible.</p>
</div>
<div class="section" id="debugging-the-master-and-minion">
<h2>Debugging the Master and Minion<a class="headerlink" href="#debugging-the-master-and-minion" title="永久链接至标题">¶</a></h2>
<p>A list of common <a class="reference internal" href="master.html"><em>master</em></a> and
<a class="reference internal" href="minion.html"><em>minion</em></a> troubleshooting steps provide a
starting point for resolving issues you may encounter.</p>
</div>
</div>


                            </div>
                            <a href="../yaml/index.html"><button data-container="body" data-toggle="tooltip" data-placement="bottom" title="了解YAML" id="prev-button" type="button" class="btn btn-secondary"><span class="glyphicon glyphicon-chevron-left"></span> Previous</button></a>
                            <a href="master.html"><button data-container="body" data-toggle="tooltip" data-placement="bottom" title="Troubleshooting the Salt Master" id="next-button" type="button" class="btn btn-primary">
                                Next <span class="glyphicon glyphicon-chevron-right"></span></button></a>
                        </div>
                    </div>
                    <div class="footer">
                        <hr />

                        
                    </div> <!--end footer-->

                    </div>
                </div>
            <!--start sidebar-->
            <div id="sidebar-wrapper">
            <div id="sidebar-static">

                <a class="ss-logo" href="http://saltstack.com"><img width="250" height="63" class="nolightbox sidebar-logo" src="../../_static/images/saltstack_logo.svg"></a>

                
                <div class="versions">
                    <p>Version 2016.3.0-182-gbed98d8</p>
                </div>
                

                <div id="search-form" class="inner-addon left-addon">
                    <i class="glyphicon glyphicon-search"></i>
                    <input type="text" class="form-control">
                </div>

            </div> <!--end sidebar-static-->

                <div id="sidebar-nav">
                    
                    
                    
                    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">SaltStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">安装教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuring Salt</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../using_salt.html">Using Salt</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../grains/index.html">Grains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pillar/index.html">在Pillar中存储静态数据</a></li>
<li class="toctree-l2"><a class="reference internal" href="../targeting/index.html">Targeting Minions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mine/index.html">Salt Mine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ref/runners/index.html">Runners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../engines/index.html">Salt Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yaml/index.html">了解YAML</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">解决问题</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting-the-salt-master">Troubleshooting the Salt Master</a><ul>
<li class="toctree-l4"><a class="reference internal" href="master.html">Troubleshooting the Salt Master</a></li>
<li class="toctree-l4"><a class="reference internal" href="master.html#running-state-locally">Running state locally</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting-the-salt-minion">Troubleshooting the Salt Minion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="minion.html">Troubleshooting the Salt Minion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-in-the-foreground">Running in the Foreground</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-ports-do-the-master-and-minion-need-open">What Ports do the Master and Minion Need Open?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-salt-call">Using salt-call</a></li>
<li class="toctree-l3"><a class="reference internal" href="#too-many-open-files">Too many open files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#salt-master-stops-responding">Salt Master Stops Responding</a></li>
<li class="toctree-l3"><a class="reference internal" href="#salt-and-selinux">Salt and SELinux</a></li>
<li class="toctree-l3"><a class="reference internal" href="#red-hat-enterprise-linux-5">Red Hat Enterprise Linux 5</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-yaml-gotchas">Common YAML Gotchas</a><ul>
<li class="toctree-l4"><a class="reference internal" href="yaml_idiosyncrasies.html">YAML Idiosyncrasies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#live-python-debug-output">Live Python Debug Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#salt-0-16-x-minions-cannot-communicate-with-a-0-17-x-master">Salt 0.16.x minions cannot communicate with a 0.17.x master</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debugging-the-master-and-minion">Debugging the Master and Minion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../best_practices.html">Salt Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../execution/index.html">Remote Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../states/index.html">Configuration Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../event/index.html">Events &amp; Reactor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orchestrate/index.html">Orchestration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ssh/index.html">Salt SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud/index.html">Salt云端</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proxyminion/index.html">Salt Proxy Minion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Salt Virt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ref/cli/index.html">Command Line Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ref/index.html">Salt Module Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topology/index.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows/index.html">Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Salt开发</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
</ul>

                    
                    
                </div>

                <div id="sidebar-static-bottom">
                <div class="text-nowrap">
                    <!--social icons from http://vervex.deviantart.com/art/somacro-45-300dpi-social-media-icons-267955425-->
                    <ul id="social-links" class="list-inline">
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="watch saltstack videos on youtube" href="https://www.youtube.com/user/saltstack" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/youtube-variation.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="view the latest saltstack tweets" href="http://twitter.com/saltstackinc" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/twitter.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="subscribe to the salt users mailing list" href="https://groups.google.com/forum/#!forum/salt-users" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/email.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="download saltstack code from github" href="https://github.com/saltstack/salt" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/github.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="chat in #salt on freenode irc" href="http://webchat.freenode.net/?channels=salt&uio=mj10cnvljjk9dhj1zsyxmd10cnvl83" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/messenger-generic.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="/r/saltstack" href="http://www.reddit.com/r/saltstack/" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/reddit.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="ask a saltstack question on stackoverflow" href="http://stackoverflow.com/questions/tagged/salt-stack" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/stackoverflow.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="join or start a saltstack meetup" href="http://www.meetup.com/find/?keywords=saltstack" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/meetup.png" ></a></li>
                        <li><a data-container="body" data-delay='{ "show": 500, "hide": 100 }' data-toggle="tooltip" data-placement="top" title="follow saltstack on linkedin" href="http://www.linkedin.com/company/salt-stack-inc" target="_blank"><img class="nolightbox" width="24" src="../../_static/images/linkedin.png" ></a></li>
                    </ul>
                </div>
                </div>
            </div>
            <!--end sidebar-->

            </div> <!--end wrapper--> <!--end block content-->
        
    <script>
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     '2015.8.7',
            SEARCH_CX:   '004624818632696854117:yfmprrbw3pk',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  'true'
        };
    </script>

    <script src="../../_static/js/core.min.js"></script>

    <script src="../../_static/js/webhelp.min_v1.4.3.js"></script>

        
    </body>
</html>